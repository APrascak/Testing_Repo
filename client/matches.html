<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles/menu.css">
    <link rel="stylesheet" href="styles/menu.css">
    <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
    <script src="js/app.js"></script>
    <script src="js/factories/listingFactory.js"></script>
    <script src="js/controllers/listingController.js"></script>
</head>
 <body ng-app="directoryApp">
  <div ng-controller="ListingsController" data-ng-init="getMatches()">
  <div class="row ">
    <div class="subnav container" id="customNav">
      <a href="/dashboard" class="home">Home Page</a>
      <a href= "/profile"> Profile </a>
      <a href= "/mentors"> Find Mentors </a>
      <a href= "/mentees"> Mentee Requests </a>
      <a href= "/matches" class="active"> Mentor Matches </a>
      <a href= "/logout"> Log Out </a>
    </div>
    <div class="container">
      <div class="row">

      </div>
      <div class="row" ng-controller="ListingsController">

      <!--  <div class="col-md-6"> -->
      <div class="span-12 omega">
          <h1 style="margin-left:40%">Your Potential Mentors</h1>
          <div class="input-group" id="searchBar">
            <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
            <input type="text" class="form-control" placeholder="Search" ng-model="query">
          </div>
		  	<div ng-if="errors.length > 0" style=" width: 100%;">
				<p ng-repeat="error in errors" style=" font-family: Arial">{{error}}</p>
			</div>
          <div class="tableWrapper">
            <table class="table table-striped table-hover">
              <tr>
                <th>Name</th>
                <th>View Profile</th>
                <th>Status</th>
              </tr>
			  <tr ng-if="!matches"><td colspan="3" style="text-align:center">No ongoing matches.</td></tr>
              <tr ng-repeat="match in matches | filter: { code: query }">
                <td>{{match.mentor_name}}</td>
                <td><a ng-click="viewOtherUser(match.mentor_name,match.status)">View Profile</a></td>
				<td ng-if="match.status == 'rejected'">Mentor Unavailable</td>
                <td ng-if="match.status == 'accepted'">Accepted</td>
				<td ng-if="match.status == 'pending'">Pending</td>
              </tr>
            </table>
          </div>
        </div>
        </div>

      </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
    <script>
    function myFunction() {
      var x = document.getElementById("customNav");
      if (x.className === "subnav") {
        x.className += " responsive";
      } else {
        x.className = "subnav";
      }
    }
    </script>
  </body>
</html>
